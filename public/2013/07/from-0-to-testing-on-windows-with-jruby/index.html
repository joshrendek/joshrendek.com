<!DOCTYPE html>
<html>

<head>
<meta charset="utf-8" />
<meta name="author" content="" />
<meta name="description" content="" />
<meta name="keywords" content="" />
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<meta name="generator" content="Hugo 0.25.1" />

<meta property="og:title" content="From 0 to Testing on Windows with JRuby" />
<meta property="og:description" content="Testing is one of the most important parts of software development and helps to ensure bugs don&rsquo;t get into production and that code can be refactored safely. If you&rsquo;re working on a team with multiple people with different skill sets, you might have people doing testing who only know windows and development is only using OSX or Linux. We want everyone to be able to test - someone in QA who is familiar with Windows shouldn&rsquo;t have to throw away all that knowledge, install Linux, and start from scratch." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://joshrendek.com/2013/07/from-0-to-testing-on-windows-with-jruby/" />



<meta property="article:published_time" content="2013-07-17T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2013-07-17T00:00:00&#43;00:00"/>













  <meta name="twitter:card" content="summary"/>



<meta name="twitter:text:title" content="From 0 to Testing on Windows with JRuby"/>
<meta name="twitter:title" content="From 0 to Testing on Windows with JRuby"/>
<meta name="twitter:description" content="Testing is one of the most important parts of software development and helps to ensure bugs don&rsquo;t get into production and that code can be refactored safely. If you&rsquo;re working on a team with multiple people with different skill sets, you might have people doing testing who only know windows and development is only using OSX or Linux. We want everyone to be able to test - someone in QA who is familiar with Windows shouldn&rsquo;t have to throw away all that knowledge, install Linux, and start from scratch."/>




<meta itemprop="name" content="From 0 to Testing on Windows with JRuby">
<meta itemprop="description" content="Testing is one of the most important parts of software development and helps to ensure bugs don&rsquo;t get into production and that code can be refactored safely. If you&rsquo;re working on a team with multiple people with different skill sets, you might have people doing testing who only know windows and development is only using OSX or Linux. We want everyone to be able to test - someone in QA who is familiar with Windows shouldn&rsquo;t have to throw away all that knowledge, install Linux, and start from scratch.">


<meta itemprop="dateModified" content="2013-07-17T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="977">



<meta itemprop="keywords" content="" />


<link rel="stylesheet" type="text/css" href="/css/layout.css" />
<link rel="stylesheet" type="text/css" href="/css/pygments.css" />
<link rel="stylesheet" type="text/css" href="/css/color-dark.css" />


<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-3754808-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>


<title>


     From 0 to Testing on Windows with JRuby 

</title>

<script src="/js/highlight.min.js"></script>
<link rel="stylesheet" href="/css/tomorrow-night.min.css" />
<script>hljs.initHighlightingOnLoad();</script>

</head>


<body>
<div class="main">
<header>

<div class="header-bar">

  <nav>
    <div class="siteTitle">
      <a href="https://joshrendek.com">
        <span class='blue-brace'>{</span>
        Josh Rendek
        <span class='blue-brace'>}</span>
      </a>
      <div class="header-subtitle">
        <h2>
          <span class="heart">&lt;3</span> Ruby &amp; Go
        </h2>
      </div>
    </div> 
  </nav>
  <nav>
      
      
      <a class="nav-item" href="/"><div class="nav-item-title">Home</div></a>
      
      <a class="nav-item" href="/projects/"><div class="nav-item-title">Projects</div></a>
      
      <a class="nav-item" href="/archives/"><div class="nav-item-title">Archives</div></a>
      
      <a class="nav-item" href="https://devopsbyvideo.com/"><div class="nav-item-title">Screen Casts</div></a>
      
      <a class="nav-item" href="/about/"><div class="nav-item-title">About</div></a>
      
      <a class="nav-item" href="/categories/"><div class="nav-item-title">Categories</div></a>
      
      <a class="nav-item" href="https://github.com/joshrendek/"><div class="nav-item-title">GitHub</div></a>
      
      <a class="nav-item" href="/resume.pdf"><div class="nav-item-title">Resume</div></a>
      
   </nav>
</div>

  
<div class="social-links-header">

  

  

  

  

  

</div>


</header>


<main>
  <div class="articles">
    <article class="post">
      <div class="date"> Jul 17, 2013 - 5 minutes</div>
      <h1 class="title"> From 0 to Testing on Windows with JRuby </h1>
      <div class="content"> 

<p>Testing is one of the most important parts of software development and helps to ensure
bugs don&rsquo;t get into production and that code can be refactored safely.
If you&rsquo;re working on a team with multiple people with different skill sets,
you might have people doing testing who only know windows and development is only
using OSX or Linux. We want everyone to be able to test - someone in QA who is familiar
with Windows shouldn&rsquo;t have to throw away all that knowledge, install Linux, and start from scratch.
Enter JRuby and John.</p>

<p>John is our tester and he is running windows. He wants to help make sure that when a user
goes to <code>http://google.com/</code> that a button appears with the text &ldquo;Google Search&rdquo;.
The quick way to do this is to open his browser, navigate to <code>http://google.com/</code>
glance through the page for the button and confirm that its there.
John has a problem though, he has 30 other test cases to run and the developers are pushing code to the frontpage
several times a day; John now has to continously do this manually everytime code is touched and
his test load is piling up.</p>

<p>So let&rsquo;s help John out and install <a href="http://sublimetext.com/2">Sublime Text 2</a> and <a href="http://jruby.org/">JRuby</a>.</p>

<p><img src="/images/jrubytesting/download-sublime.png" alt="" /></p>

<p>Start by downloading the 64-bit version of Sublime Text.
Make sure to add the context menu when going through the install process.</p>

<p><img src="/images/jrubytesting/slt-setup.png" alt="" /></p>

<p>Now we&rsquo;ll visit the JRuby homepage and download the 64 bit installer.</p>

<p><img src="/images/jrubytesting/dl-jruby.png" alt="" /></p>

<p>Go through the installer and let JRuby set your path so you can access ruby from <code>cmd.exe</code></p>

<p><img src="/images/jrubytesting/jruby-path.png" alt="" /></p>

<p>Now when we open <code>cmd.exe</code> and type <code>jruby -v</code> we&rsquo;ll be able to see that it was installed.</p>

<p><img src="/images/jrubytesting/jruby-cmd.png" alt="" /></p>

<p>Now that we have our tools installed lets setup our test directory on the Desktop.
Inside our <code>testing</code> folder we&rsquo;ll create a folder called <code>TestDemo</code> for our tests for the Demo project.</p>

<p><img src="/images/jrubytesting/testdemo-folder.png" alt="" /></p>

<p>Next we&rsquo;ll open Sublime Text and go to <code>File &gt; Open Folder</code> and navigate to our <code>TestDemo</code> folder and hit open.</p>

<p><img src="/images/jrubytesting/slt-openfolder.png" alt="" /></p>

<p>Now we can continue making our directory structure inside Sublime Text. Since we&rsquo;re going to use <code>rspec</code>
we need to create a folder called <code>spec</code> to contain all of our tests. Right click on the <code>TestDemo</code> in the
tree navigation and click <code>New Folder</code>.</p>

<p><img src="/images/jrubytesting/slt-newfolder.png" alt="" /></p>

<p>Call the folder <code>spec</code> in the bottom title bar when it prompts you for the folder name.</p>

<p>Next we&rsquo;ll create our Gemfile which will declare all of our dependencies - so make a file in the project root called
<code>Gemfile</code> and put the our dependencies in it:</p>

<pre><code class="language-ruby">source &quot;https://rubygems.org&quot;

gem &quot;rspec&quot;
gem &quot;selenium&quot;
gem &quot;selenium-webdriver&quot;
gem &quot;capybara&quot;

</code></pre>

<p>Once we have that file created, open <code>cmd.exe</code> and switch to your project&rsquo;s root directory.</p>

<p>Type <code>jgem install bundler</code> to install <code>bundler</code> which manages ruby dependencies.</p>

<p><img src="/images/jrubytesting/bundler.png" alt="" /></p>

<p>While still at the command prompt we&rsquo;re going to <code>bundle</code> to install our dependencies:</p>

<p><img src="/images/jrubytesting/bundle.png" alt="" /></p>

<p>After that finishes we need to run one last command for <code>selenium</code> to work properly: <code>selenium install</code></p>

<p><img src="/images/jrubytesting/selenium-install.png" alt="" /></p>

<p>We also need a <code>spec_helper.rb</code> file inside our <code>spec</code> directory.</p>

<pre><code class="language-ruby">require &quot;rspec&quot;
require &quot;selenium&quot;
require &quot;capybara/rspec&quot;

Capybara.default_driver =  :selenium
</code></pre>

<p>We&rsquo;ve now setup our rspec folders, our Gemfile with dependencies, and installed them. Now we can write
the test that will save John a ton of time.</p>

<p>Chrome comes with a simple tool to get XPath paths so we&rsquo;re going to use that to get the XPath
for the search button. Right click on the &ldquo;Google Search&rdquo; button and click <code>Inspect element</code></p>

<p><img src="/images/jrubytesting/google-inspect.png" alt="" /></p>

<p>Right click on the highlighted element and hit <code>Copy XPath</code>.</p>

<p><img src="/images/jrubytesting/google-xpath.png" alt="" /></p>

<p>Now we&rsquo;re going to make our spec file and call it <code>homepage_spec.rb</code> and locate it under <code>spec\integration</code>.</p>

<p>Here is a picture showing the directory structure and files:
<img src="/images/jrubytesting/homepage-spec.png" alt="" /></p>

<p>Here is the spec file with comments explaining each part:</p>

<pre><code class="language-ruby"># This loads the spec helper file that we required everything in
require &quot;spec_helper&quot;

# This is the outer level description of the test
# For this example it describes going to the homepage of Google.com
# Setting the feature type is necessary if you have
# Capybara specs outside of the spec\features folder
describe &quot;Going to google.com&quot;, :type =&gt; :feature do

  # Context is like testing a specific component of the homepage, in this case
  # its the search button
  context &quot;The search button&quot; do
    # This is our actual test where we give it a meaningful test description
    it &quot;should contain the text 'Google Search'&quot; do
      visit &quot;http://google.com/&quot; # Opens Firefox and visits google
      button = find(:xpath, '//*[@id=gbqfba&quot;') # find an object on the page by its XPath path
      # This uses an rspec assertion saying that the string returned
      # by button.text is equal to &quot;Google Search&quot;
      button.text.should eq(&quot;Google Seearch&quot;)

    end
  end

end

</code></pre>

<p>Now we can tab back to our <code>cmd.exe</code> prompt and run our tests!
<code>rspec spec</code> will run all your tests under the <code>spec</code> folder.
<img src="/images/jrubytesting/rspec-spec.png" alt="" /></p>

<h3 id="things-to-take-note-of">Things to take note of</h3>

<p>This example scenario is showing how to automate browser testing to do end-to-end tests on a product using rspec.
This is by no means everything you can do with rspec and ruby - you can SSH, hit APIs and parse JSON, and do anything
you want with the ability to make assertions.</p>

<p>A lot is going on in these examples - there are plenty of resources out there on google and other websites
that provide more rspec examples and ruby examples.</p>

<p>We also showed how to add dependencies and install them using <code>bundler</code>.
Two of the best resources for finding libraries and other gems is
<a href="http://rubygems.org/">RubyGems</a> and <a href="http://ruby-toolbox.com/">Ruby-Toolbox</a> - the only thing to take note of
is anything saying to be a native C extension (they won&rsquo;t work with JRuby out of the box).</p>

<p>My last note is that you also need to have firefox installed as well - Selenium will work with Chrome but I&rsquo;ve found it to be a
hassle to setup (and unless you really need Chrome), the default of Firefox will work great.</p>
 </div>
      <footer class="post-footer">

  <div class="post-footer-data">
    
<div class="tags">
    
</div>

  </div>

</footer>


  
<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'bluescripts';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>
  Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>




    </article>
  </div>
  <div class="sidebar">
  <section>
    <h1>Projects & Software</h1>
    <ul>
      <li><a href="https://github.com/joshrendek/docker-conductor">Docker Conductor</a> is a docker orchestration tool.</li>
      <li><a href="http://sshpot.com/">sshpot.com</a> is a SSH honeypot service written in Go (both web service and client are open source).</li>
      <li><a href="http://ifcfg.net/">ifcfg.net</a> is a simple 'what is my IP' service with a few extra RESTful endpoints.</li>

      <li><a href="/projects/">View More</a>

      <li><a href="https://github.com/joshrendek?tab=repositories"><img src="/images/github.png" style='border: none;'> More on GitHub</a></li>
      <li><a href="https://rubygems.org/profiles/joshrendek">Gems @ RubyGems</a></li>
    </ul>
  </section>

  <section>
    <h1>Other Blogs</h1>
    <ul>
      <li><a href="http://tendermeatlove.com">Tender Meat Love</a> is my blog about cooking.</li>
      <li><a href="http://hydronerd.com">Hydro Nerd</a> is my blog about hydroponics and gardening.</li>
    </ul>
  </section>

  <section>
    <h1>Recent Posts</h1>
    <ul>
      
      <li><a href="https://joshrendek.com/2016/06/building-honeypots-and-analyzing-linux-malware/">Building honeypots and analyzing linux malware</a></li>
      
      <li><a href="https://joshrendek.com/2015/11/understanding-elasticsearch-performance/">Understanding ElasticSearch Performance</a></li>
      
      <li><a href="https://joshrendek.com/2015/11/building-a-distributed-waitgroup-with-go-and-redis/">Building a distributed WaitGroup with Go and Redis</a></li>
      
      <li><a href="https://joshrendek.com/2015/11/docker-and-ping-sendmsg-operation-not-permitted/">Docker and ping: sendmsg: Operation not permitted</a></li>
      
      <li><a href="https://joshrendek.com/2015/10/influx-alert/">Influx Alert</a></li>
      
    </ul>
  </section>

</div>

</main>
  <footer>

  <div class="social-links-footer">

  

  

  

  

  

  <div class="social-link">
  <a href="https://joshrendek.com/index.xml" target="_blank">RSS</a>
  </div>

</div>


  <div class="copyright"> © Copyright 2008-2017 Josh Rendek </div>

  </footer>

</body>
</html>

